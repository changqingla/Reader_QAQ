# 知识库相关接口文档

## 1. 文件格式转换（Mineru）

将PDF格式的文件转化为md格式

### 1.1 发送请求

```bash
curl -X POST "http://10.0.1.9:7788/process-async/" \
  -H "accept: application/json" \
  -H "Content-Type: multipart/form-data" \
  -F "file=@test.pdf"
```

**输出示例：**

```json
{
    "code": 0,
    "data": {
        "task_id": "8845292c-3225-4d5f-af17-6b160ff31900",
        "status": "pending",
        "message": "任务已创建，正在后台处理"
    },
    "message": "success"
}
```

### 1.2 查询状态

```bash
curl "http://10.0.1.9:7788/task/8845292c-3225-4d5f-af17-6b160ff31900"
```

**响应示例：**

```json
{
    "code": 0,
    "data": {
        "task_id": "8845292c-3225-4d5f-af17-6b160ff31900",
        "status": "completed",
        "progress": 100.0,
        "message": "处理完成",
        "file_name": "演示文稿1.pptx",
        "file_type": "office",
        "created_at": "2025-06-16T02:04:57.560629",
        "updated_at": "2025-06-16T02:05:23.970513",
        "result": {
            "success": true,
            "message": "Office文档处理成功",
            "output_paths": {
                "markdown": "/output/演示文稿1/md/演示文稿1.md",
                "images_dir": "/output/演示文稿1/images",
                "content_list": "/output/演示文稿1/md/演示文稿1_content_list.json",
                "middle_json": "/output/演示文稿1/md/演示文稿1_middle.json"
            }
        }
    },
    "message": "success"
}
```

### 1.3 获取处理结果

```bash
curl "http://10.0.1.9:7788/task/8845292c-3225-4d5f-af17-6b160ff31900/content"
```

**响应示例：**

```json
{
    "code": 0,
    "data": {
        "task_id": "8845292c-3225-4d5f-af17-6b160ff31900",
        "file_name": "演示文稿1.pptx",
        "content": "xxxx"
    },
    "message": "success"
}
```

### 1.4 列出任务

```bash
curl "http://10.0.1.9:7788/tasks"
```

**响应示例：**

```json
{
    "code": 0,
    "data": {
        "tasks": [
            {
                "task_id": "8845292c-3225-4d5f-af17-6b160ff31900",
                "status": "completed",
                "progress": 100,
                "file_name": "演示文稿1.pptx",
                "created_at": "2025-06-16T02:04:57.560629"
            }
        ]
    },
    "message": "success"
}
```

### 1.5 删除任务

```bash
curl -X DELETE "http://localhost:7788/task/8845292c-3225-4d5f-af17-6b160ff31900"
```

**响应示例：**

```json
{
    "code": 0,
    "data": true,
    "message": "任务已删除"
}
```

## 5. 文档分块

```bash
curl -X POST "http://localhost:7791/api/chunk" \
  -F "file=@example.md" \           # 上传的文档
  -F "parser_type=general" \        # 解析方式，分为general/qa/table，默认为general
  -F "chunk_token_num=512" \        # 分块大小，默认512
  -F "document_id=1234" \           # 文档id
  -F "language=Chinese"
```

**响应示例：**

```json
{
    "success": true,
    "message": "成功分块文档 example.pdf，生成 5 个分块",
    "data": {
        "success": true,
        "chunks": [
            {
                "docnm_kwd": "民进八十年浙江卷2025.5.md",
                "title_tks": "民进 八十年 浙江 卷 2025 5",
                "title_sm_tks": "民进 八十 年 浙江 卷 2025 5",
                "content_with_weight": "<table><tr><td>民进温州市委会</td><td>1985年4月21日</td><td>马骅</td><td></td></tr><tr><td>民进金华市委会</td><td>1985年6月15日</td><td>俞立身</td><td></td></tr><tr><td>民进绍兴市委会</td><td>1985年12月24日</td><td>陶永铭</td><td></td></tr><tr><td>民进衢州市委会</td><td>1987年1月22日</td><td>张廉</td><td></td></tr><tr><td>民进舟山市委会</td><td>1997年3月13日</td><td></td><td>主任委员空缺，副主任委员黄洁明主持工作。</td></tr><tr><td>民进台州市委会</td><td>1999年8月25日</td><td>徐林德</td><td></td></tr><tr><td>民进丽水市委会</td><td>2001年11月18日</td><td>庄志清</td><td></td></tr></table>",
                "content_ltks": "民进 温州市 委会 1985 年 4 月 21 日 马骅 民进 金华市 委会 1985 年 6 月 15 日 俞 立身 民进 绍兴市 委会 1985 年 12 月 24 日 陶 永铭 民进 衢州市 委会 1987 年 1 月 22 日 张廉 民进 舟山市 委会 1997 年 3 月 13 日 主任委员 空缺 副 主任委员 黄洁明 主持 工作 民进 台州市 委会 1999 年 8 月 25 日 徐 林德 民进 丽水市 委会 2001 年 11 月 18 日 庄志清",
                "content_sm_ltks": "民进 温州 市 委会 1985 年 4 月 21 日 马骅 民进 金华 市 委会 1985 年 6 月 15 日 俞 立身 民进 绍兴 市 委会 1985 年 12 月 24 日 陶 永铭 民进 衢州 市 委会 1987 年 1 月 22 日 张廉 民进 舟山 市 委会 1997 年 3 月 13 日 主任 委员 空缺 副 主任 委员 黄洁明 主持 工作 民进 台州 市 委会 1999 年 8 月 25 日 徐 林德 民进 丽水 市 委会 2001 年 11 月 18 日 庄志清",
                "chunk_id": "b79309dbf85b4007",
                "document_id": "1234",
                "available_int": 1
            }
        ],
        "total_chunks": 5,
        "processing_time": 1.23,
        "file_size": 1048576,
        "parser_type": "general",
        "process_id": 12345
    },
    "processing_time": 1.25,
    "timestamp": "2024-01-15T10:30:00.123456"
}
```

## 6. 分块向量化

```bash
curl -X POST "http://localhost:7791/api/embed" \
  -H "Content-Type: application/json" \
  -d '{
    "chunks": [
        {
            "docnm_kwd": "xxx",
            "title_tks": "xxx",
            "title_sm_tks": "xx",
            "content_with_weight": "xxx",
            "content_ltks": "xxx",
            "content_sm_ltks": "xxxx",
            "chunk_id": "b79309dbf85b4007",
            "document_id": "1234",
            "available_int": 1
        }
    ],
    "model_factory": "VLLM",
    "model_name": "bge-m3",
    "base_url": "http://localhost:8002/v1"
  }'
```

**响应示例：**

```json
{
    "success": true,
    "message": "成功向量化 1 个分块",
    "data": {
        "success": true,
        "chunks": [
            {
                "docnm_kwd": "民进八十年浙江卷2025.5.md",
                "title_tks": "民进 八十年 浙江 卷 2025 5",
                "title_sm_tks": "民进 八十 年 浙江 卷 2025 5",
                "content_with_weight": "<table><tr><td>市级组织名称</td><td>成立日期</td><td>主任委员</td><td>备注</td></tr><tr><td>民进杭州市委会</td><td>1952年12月28日</td><td>俞子夷</td><td>1952年12月28日，民进杭州市第一次会员大会召开，选举产生民进杭州市分会第一届理事会。1956年11月1日，根据民进中央发出的《关于本会地方各级组织更改名称的通知》，民进杭州市分会更名为民进杭州市委员会。领导成员由主任理事改称为主任委员。</td></tr><tr><td>民进湖州市委会</td><td>1984年5月27日</td><td>俞善吾</td><td></td></tr><tr><td>民进嘉兴市委会</td><td>1984年8月26日</td><td>侯家声</td><td></td></tr><tr><td>民进宁波市委会</td><td>1985年2月28日</td><td>唐正仙</td><td></td></tr></table>",
                "content_ltks": "市级 组织 名称 成立 日期 主任委员 备注 民进 杭州市委 会 1952 年 12 月 28 日 俞子夷 1952 年 12 月 28 日 民进 杭州市 第一次 会员大会 召开 选举 产生 民进 杭州市 分会 第一届 理事会 1956 年 11 月 1 日 根据 民进中央 发出 的 关于 本 会 地方 各级 组织 更改 名称 的 通知 民进 杭州市 分会 更名 为 民进 杭州市 委员会 领导成员 由 主任 理事 改称 为 主任委员 民进 湖州市 委会 1984 年 5 月 27 日 俞善吾 民进 嘉兴市 委会 1984 年 8 月 26 日 侯 家声 民进 宁波市 委会 1985 年 2 月 28 日 唐正仙",
                "content_sm_ltks": "市级 组织 名称 成立 日期 主任 委员 备注 民进 杭州 市委 会 1952 年 12 月 28 日 俞子夷 1952 年 12 月 28 日 民进 杭州 市 第 一次 会员 大会 召开 选举 产生 民进 杭州 市 分会 第一 届 理事 会 1956 年 11 月 1 日 根据 民进 中央 发出 的 关于 本 会 地方 各级 组织 更改 名称 的 通知 民进 杭州 市 分会 更名 为 民进 杭州 市 委员 会 领导 成员 由 主任 理事 改称 为 主任 委员 民进 湖州 市 委会 1984 年 5 月 27 日 俞善吾 民进 嘉兴 市 委会 1984 年 8 月 26 日 侯 家声 民进 宁波 市 委会 1985 年 2 月 28 日 唐正仙",
                "chunk_id": "0954a9529f204547",
                "document_id": "123456",
                "available_int": 1,
                "q_1024_vec": [0.1, 0.2, 0.3, "...", 0.9]
            }
        ],
        "stats": {
            "total_chunks": 1,
            "total_tokens": 25,
            "vector_dimension": 1024,
            "model_factory": "VLLM",
            "model_name": "bge-m3"
        }
    },
    "processing_time": 0.85,
    "timestamp": "2024-01-15T10:30:00.123456"
}
```

## 7. 存储到ES

每个用户有自己独立的一个索引，通过索引区分用户数据

```bash
curl -X POST "http://localhost:7791/api/store" \
  -H "Content-Type: application/json" \
  -d '{
    "chunks": [
      {
        "docnm_kwd": "xxx.md",
        "title_tks": "xxx",
        "title_sm_tks": "xxxx",
        "content_with_weight": "xxxx",
        "content_ltks": "xxx",
        "content_sm_ltks": "xxx",
        "chunk_id": "0954a9529f204547",
        "document_id": "123456",
        "available_int": 1,
        "q_1024_vec": [0.1, 0.2, 0.3, "...", 0.9]
      }
    ],
    "es_host": "http://10.0.100.36:9201",
    "index_name": "deeprag_vectors"
  }'
```

**参数说明：**

- `chunks`: 来自向量化的chunks字段
- `index_name`: 索引名称

**响应示例：**

```json
{
    "success": true,
    "message": "成功存储 1 个分块",
    "data": {
        "success": true,
        "message": "成功存储 1 个分块",
        "stored_count": 1,
        "total_count": 1,
        "error_count": 0,
        "errors": []
    },
    "processing_time": 0.15,
    "timestamp": "2024-01-15T10:30:00.123456"
}
```

## 8. 文档解析

这个接口会把文档分块、向量化、存储放在一起完成

### 8.1 提交文档进行处理

```bash
curl -X POST "http://localhost:7791/api/parse-document" \
  -F "file=@document.md" \
  -F "model_factory=VLLM" \
  -F "model_name=bge-m3" \
  -F "base_url=http://10.0.1.9:8002/v1" \
  -F "index_name=my_documents" \
  -F "document_id=doc_001" \
  -F "parser_type=general" \
  -F "chunk_token_num=256" \
  -F "api_key=your_api_key" \
  -F "es_host=http://localhost:9200"
```

**参数说明：**

- `index_name`: ES的索引，ES中索引的数量是有限制的，不要构建多个索引
- `document_id`: 文档id
- `parser_type`: general/qa/table
- `api_key`: embedding模型API密钥（可选）
- `es_host`: http://10.0.100.36:9201

**返回示例：**

```json
{
    "success": true,
    "message": "文档解析任务已创建，任务ID: 12345-67890-abcdef",
    "data": {
        "task_id": "12345-67890-abcdef",
        "filename": "document.pdf",
        "status": "pending"
    }
}
```

### 8.2 查询任务状态

```bash
curl -X GET "http://localhost:7791/api/task-status/12345-67890-abcdef"
```

**返回示例：**

```json
{
    "success": true,
    "task_id": "12345-67890-abcdef",
    "status": "embedding",
    "progress": 0.6,
    "message": "正在进行向量化处理 45/100",
    "data": {
        "total_chunks": 100,
        "processed_chunks": 45,
        "created_at": "2025-01-13T10:30:00"
    }
}
```

**任务状态说明：**

- `pending` - 任务刚创建，等待处理
- `queued` - 任务已加入Redis队列，排队等待
- `processing` - 任务开始被工作进程处理
- `chunking` - 正在进行文档分块处理
- `embedding` - 正在进行向量化处理
- `storing` - 正在存储到Elasticsearch
- `completed` - 任务成功完成
- `failed` - 任务处理失败
- `cancelled` - 任务被用户取消

### 8.3 查看任务列表

```bash
curl -X GET "http://localhost:7791/api/tasks?limit=10&status_filter=completed"
```

## 9. 列出文档分块后的列表

```bash
curl -X POST "http://localhost:7791/api/chunk-list" \
  -H "Content-Type: application/json" \
  -d '{
    "document_id": "doc_001",
    "es_host": "http://localhost:9200",
    "index_name": "my_documents",
    "page": 1,
    "page_size": 10
  }'
```

**参数说明：**

- `index_name`: 索引
- `page`: 页码
- `page_size`: 每页数量

**响应示例：**

```json
{
    "success": true,
    "message": "成功获取文档 doc_001 的 20 个分块",
    "data": {
        "chunks": [
            {
                "chunk_id": "chunk_001",
                "document_id": "doc_001",
                "document_name": "document.pdf",
                "content": "这是文档的第一段内容...",
                "title": "第一章 引言",
                "page_number": 1,
                "position": 0,
                "chunk_index": 0,
                "available": 1,
                "create_time": "2025-01-13T10:30:00.123456"
            }
        ],
        "total_count": 100,
        "page": 1,
        "page_size": 20,
        "total_pages": 5,
        "document_id": "doc_001",
        "index_name": "my_documents"
    },
    "processing_time": 0.234,
    "timestamp": "2025-01-13T10:30:00.123456"
}
```

## 10. 关键词搜索块

```bash
curl -X POST "http://10.0.169.144:7791/api/search-chunks" \
  -H "Content-Type: application/json" \
  -d '{
    "document_id": "test",
    "es_host": "http://10.0.1.9:9200",
    "index_name": "test",
    "query": "直子",
    "page": 1,
    "page_size": 10,
    "highlight": false
  }'
```

**或使用：**

```bash
curl -X POST "http://10.0.100.36:6677/api/search-chunks" \
  -H "Content-Type: application/json" \
  -d '{
    "document_id": "test",
    "es_host": "http://10.0.1.9:9200",
    "index_name": "test",
    "query": "直子",
    "page": 1,
    "page_size": 10,
    "highlight": false
  }'
```

**响应示例：**

```json
{
    "success": true,
    "message": "在文档 doc_001 中找到 5 个包含 '搜索词' 的分块",
    "data": {
        "success": true,
        "chunks": [
            {
                "chunk_id": "chunk_123",
                "document_id": "doc_001",
                "document_name": "示例文档.pdf",
                "content": "这里是包含搜索词的内容...",
                "title": "章节标题",
                "page_number": 1,
                "position": 100,
                "chunk_index": 0,
                "available": 1,
                "create_time": "2024-01-01T00:00:00",
                "score": 1.5
            }
        ],
        "total_count": 5,
        "page": 1,
        "page_size": 10,
        "total_pages": 1,
        "document_id": "doc_001",
        "search_query": "搜索词",
        "index_name": "my_documents"
    },
    "processing_time": 0.15,
    "timestamp": "2024-01-01T12:00:00.000Z"
}
```

## 11. 编辑块

对块内容的修改和是否关闭这个块

```bash
curl -X POST "http://localhost:7791/api/edit-chunk" \
  -H "Content-Type: application/json" \
  -d '{
    "chunk_id": "90eec7c5f49e4827",
    "content": "虹猫蓝兔七侠传",
    "available_int": 0,
    "es_host": "http://10.0.100.36:9201",
    "index_name": "test-8.18",
    "model_factory": "VLLM",
    "model_name": "bge-m3",
    "base_url": "http://10.0.1.9:8002/v1"
}'
```

**参数说明：**

- `content`: 修改块的内容
- `available_int`: 控制块的启用或关闭

## 12. 召回接口

通过索引和文档id来选择从什么文档中召回，基于查询问题召回相关文档

### 12.1 仅使用向量模型

```bash
curl -X POST "http://10.0.1.9:7791/api/recall" \
  -H "Content-Type: application/json" \
  -d '{
    "question": "直子",
    "index_names": ["test"],
    "doc_ids": ["test"],
    "es_host": "http://10.0.1.9:9200",
    "top_n": 10,
    "similarity_threshold": 0.1,
    "vector_similarity_weight": 0.3,
    "model_factory": "VLLM",
    "model_name": "bge-m3",
    "model_base_url": "http://10.0.1.9:8002/v1",
    "api_key": "sk-your-siliconflow-api-key"
  }'
```

### 12.2 使用重排序模型

```bash
curl -X POST "http://localhost:7791/api/recall" \
  -H "Content-Type: application/json" \
  -d '{
    "question": "什么是人工智能？",
    "index_names": ["deeprag_vectors"],
    "doc_ids": ["1"],
    "es_host": "http://localhost:9200",
    "top_n": 10,
    "similarity_threshold": 0.2,
    "vector_similarity_weight": 0.3,
    "model_factory": "VLLM",
    "model_name": "bge-m3",
    "model_base_url": "http://localhost:8002/v1",
    "api_key": "sk-your-siliconflow-api-key",
    "rerank_factory": "VLLM",
    "rerank_model_name": "bge-reranker-v2-m3",
    "rerank_base_url": "http://localhost:8001/v1",
    "rerank_api_key": "your_api_key"
  }'
```

**响应示例：**

```json
{
    "success": true,
    "message": "召回完成，找到 3 个符合要求的结果",
    "data": {
        "success": true,
        "total": 31,
        "chunks": [
            {
                "chunk_id": "18d1b6fefe724eb2",
                "content_with_weight": "孙悟空为東亞漢字文化圈中智勇兼備的代表性角色，被諸多文學、戲曲、影視作品重新演繹。此類作品在設計上多所沿用原著中孫悟空所使用之金箍棒、筋斗云、七十二變、分身术等等法寶神通，或是參考其本身明、調皮、活泼、忠誠、嫉惡如仇等性格特微。《东游记》、《南遊記》也談及闡於齊天大圣孙悟空的其他故事。《南遊記》提及孫悟空有子女：奇都、羅猴、月孛三位星君。[1]。# 人物形象\n# 吴承恩《西游记》的版本\n\n根據《西遊記》描述，孙悟空是东胜神洲傲來国花果山灵石孕育迸裂、见风而成之石猴。乃一仙石吸收天地之气孕育而生。（《西游记》第七回提到孫悟空本體其實是"光明一顆摩尼珠"。）在花果山佔山为王三五百载（《西游记》第三回中提到生死簿上注明孙悟空"该寿三百四十二岁"）。后为了寻求长生不老的方法，历经八九载，跋山涉水，在西牛贺洲灵台方寸山斜月三星洞拜须菩提老祖为师，[註1]习得地煞七十二变和筋斗云，并首次取姓為孫（菩提祖师以猢狲起姓），取名悟空。原著《西遊記》第三十六回中描述長相為：「七高八低孤拐臉，兩隻黃眼睛，一個磕額頭，獠牙往外生。就象屬螃蟹的，肉在裏面，骨在外面。」，其他路人及妖怪對於孫悟空的長相皆說是「毛臉雷公嘴」。\n",
                "doc_id": "1",
                "docnm_kwd": "孙悟空.md",
                "page_num_int": [2],
                "position_int": [[2, 1, 1, 1, 1]],
                "available_int": 1,
                "similarity": 0.6460994075769385,
                "img_id": "",
                "title_tks": "孙悟空",
                "important_kwd": [],
                "top_int": [1],
                "create_timestamp_flt": "1755499386.047944",
                "knowledge_graph_kwd": [],
                "question_kwd": [],
                "question_tks": ""
            },
            {
                "chunk_id": "cafcf1a076004888",
                "content_with_weight": "- 心猿：如第85回"心猿妒木母"；第88回"心猿木土授门人"。- 猴哥、大师兄：豬八戒、沙悟淨和小白龙對孫悟空的稱呼。- 猴頭、泼猴：源自其相貌，多為妖怪們對其蔑稱![](https://cdn-mineru.openxlab.org.cn/result/2025-08-14/8d6d116f-097a-4625-a7e2-525c87c8c97a/5cb7127c733ca76a50a68e9b686050cd8b738be7e2500ba42788596418199a91.jpg)  京剧中孙悟空的形象![](https://cdn-mineru.openxlab.org.cn/result/2025-08-14/8d6d116f-097a-4625-a7e2-525c87c8c97a/08e4418e8acae67b4213c81467ccca6f3f673a40a045a6934ce2f98a388e5c41.jpg)  孙悟空闯入水帘洞，月冈芳年绘![](https://cdn-mineru.openxlab.org.cn/result/2025-08-14/8d6d116f-097a-4625-a7e2-525c87c8c97a/7361f441de1b96343b37c699527328e78dc9dc33f134496afdc2888d73140f7e.jpg)  一個齊天大聖角色的布袋戲偶# 悟空法师\n\n悟空法师唐朝名僧悟空（731—812），俗名车奉朝，京兆郡云阳县（今陕西省泾阳县云阳镇一带）人，為后魏拓跋氏之后。曾於天竺迦溫彌羅國（今喀什米爾）學習梵文與經典，並旅居疏勒、于闡、龜茲、健默邏國等地，其名與出使西域的經歷被視為孫悟空可能的靈感來源之一。\n",
                "doc_id": "1",
                "docnm_kwd": "孙悟空.md",
                "page_num_int": [7],
                "position_int": [[7, 6, 6, 6, 6]],
                "available_int": 1,
                "similarity": 0.6426902504753277,
                "img_id": "",
                "title_tks": "孙悟空",
                "important_kwd": [],
                "top_int": [6],
                "create_timestamp_flt": "1755499386.048037",
                "knowledge_graph_kwd": [],
                "question_kwd": [],
                "question_tks": ""
            },
            {
                "chunk_id": "c5a34c335ca94bef",
                "content_with_weight": "# 庙宇# 文化反响\n\n孙悟空的文学艺术造型反映了中国古代的诸多哲学思想，现代学者认为孙悟空的形象代表了当时人民渴望反抗残暴的朝廷、却又无力改变现实的情景。同时孙悟空还是一个尝试超越自然秩序的代表，其名被许多宗教学者解释为：因"悟"，则"空"。反映了现实秩序中的空洞和虚无，人类追求新秩序以及自由的思想。\n\n- 清代道士陳士斌所著書『西遊真詮』中，評價孫悟空的性格「猿性緩，主静；猴性躁，主动。喻道体之有动静，与人心之有动静相配，非谓猿猴即人心也」符合道的修為，並非如批評者所言脾性躁動者[43]。\n\n- 毛泽东称孙悟空为"玉宇澄清万里埃"。\n\n- 周星驰主演的电影大话西游，因電視台高頻率的重複播映以及其独特的无厘头风格，对当时广大的青少年产生了影响，許多觀眾能熟记得该电影的某些詼詰台詞。\n\n- 悟空是數個以孫悟空來命名的颱風。\n- 悟空是中国的太空探测器暗物质粒子探测卫星的俗称，命名表示了它像孙悟空那样有着火眼金睛，能看到看不见的暗物质。",
                "doc_id": "1",
                "docnm_kwd": "孙悟空.md",
                "page_num_int": [11],
                "position_int": [[11, 10, 10, 10, 10]],
                "available_int": 1,
                "similarity": 0.6326156446139565,
                "img_id": "",
                "title_tks": "孙悟空",
                "important_kwd": [],
                "top_int": [10],
                "create_timestamp_flt": "1755499386.048111",
                "knowledge_graph_kwd": [],
                "question_kwd": [],
                "question_tks": ""
            }
        ],
        "doc_aggs": [
            {
                "doc_name": "孙悟空.md",
                "doc_id": "1",
                "count": 3
            }
        ],
        "page": 1,
        "page_size": 3,
        "top_k": 1024,
        "rerank_used": false,
        "rerank_model": null
    },
    "processing_time": 0.8261306285858154,
    "timestamp": "2025-08-19T10:10:19.818678"
}
```

## 13. 从ES中删除指定文件

```bash
curl -X POST "http://localhost:7791/api/delete-document" \
  -H "Content-Type: application/json" \
  -d '{
    "document_id": "test_document_001",
    "index_name": "my_index",
    "es_host": "http://localhost:9201"
  }'
```

**响应示例：**

```json
{
    "success": true,
    "message": "成功删除文档 1 的 175 个分块",
    "data": {
        "deleted_count": 175,
        "document_id": "1",
        "index_name": "test"
    },
    "processing_time": 0.0698091983795166,
    "timestamp": "2025-09-22T18:26:59.656696"
}
```
